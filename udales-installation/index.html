
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the building-resolving urban multi-physics code uDALES">
      
      
        <meta name="author" content="The uDALES Team">
      
      
        <link rel="canonical" href="https://uDALES.github.io/u-dales/udales-installation/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../udales-namoptions-overview/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>Installation - uDALES</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="uDALES" class="md-header__button md-logo" aria-label="uDALES" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            uDALES
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/uDALES/u-dales" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    u-dales
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="uDALES" class="md-nav__button md-logo" aria-label="uDALES" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    uDALES
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uDALES/u-dales" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    u-dales
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udales" class="md-nav__link">
    <span class="md-ellipsis">
      uDALES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Project setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Post-processing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linuxwsl-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Linux/WSL (Ubuntu)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    <span class="md-ellipsis">
      macOS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#repository-set-up" class="md-nav__link">
    <span class="md-ellipsis">
      Repository set-up
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-on-common-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Build on common systems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-on-hpcs" class="md-nav__link">
    <span class="md-ellipsis">
      Build on HPCs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-defaultsoptions" class="md-nav__link">
    <span class="md-ellipsis">
      Build defaults/options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity" class="md-nav__link">
    <span class="md-ellipsis">
      Singularity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Simulation inputs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Simulation inputs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-namoptions-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    List of input parameters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-boundary-conditions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Boundary conditions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-geometry-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geometry generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-copy-inputs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Copying from other simulations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-driver-simulations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Precursor simulations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Running the simulation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Running the simulation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-pre-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-simulation-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running uDALES
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-post-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post-processing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data post-processing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Data post-processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-udbase-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    udbase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-fields-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flow fields and statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-facets-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Facets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-utility-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Utility routines
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-example-simulations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example simulations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-how-to-cite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to cite
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-pub-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publication list
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../DEVELOP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development notes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to contribute
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../udales-docs-software/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Software docs
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#udales" class="md-nav__link">
    <span class="md-ellipsis">
      uDALES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Project setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Post-processing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linuxwsl-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Linux/WSL (Ubuntu)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    <span class="md-ellipsis">
      macOS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#repository-set-up" class="md-nav__link">
    <span class="md-ellipsis">
      Repository set-up
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-on-common-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Build on common systems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-on-hpcs" class="md-nav__link">
    <span class="md-ellipsis">
      Build on HPCs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-defaultsoptions" class="md-nav__link">
    <span class="md-ellipsis">
      Build defaults/options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#singularity" class="md-nav__link">
    <span class="md-ellipsis">
      Singularity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h1>
<p>Getting started with uDALES to set up your own experiments is straightforward. This page goes through the steps required to <a href="#installation">install</a> uDALES and to <a href="#repository-set-up">set-up the directory structure</a>. Results are output in netCDF format, for a quick inspection you can use GUI tools such as <a href="https://www.giss.nasa.gov/tools/panoply/">Panoply</a> or <a href="http://meteora.ucsd.edu/~pierce/ncview_home_page.html">ncview</a>. To learn more about pre- and post-processing steps see the <a href="#whats-next">what's next section</a>.</p>
<p>If you have <a href="https://sylabs.io/">Singularity</a> available on your system, you can use the provided scripts under <code>tools/singularity</code> to build and run uDALES cases locally or on HPC environments. See <a href="#singularity">Singularity</a> for instructions; otherwise, see the next section.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<h3 id="udales">uDALES<a class="headerlink" href="#udales" title="Permanent link">&para;</a></h3>
<p>uDALES is supported to run on Linux, macOS and Windows Subsystem for Linux (WSL). Please ensure that the latest version of the following libraries and software are available on your system:</p>
<ul>
<li><a href="https://cmake.org/">CMake</a> &gt;= 3.9.</li>
<li><a href="https://www.unidata.ucar.edu/downloads/netcdf/index.jsp">NetCDF-Fortran</a> &gt;= 4.</li>
<li><a href="https://gcc.gnu.org/wiki/GFortran">GNU</a> &gt;= 9, <a href="https://software.intel.com/content/www/us/en/develop/documentation/fortran-compiler-developer-guide-and-reference/top.html">Intel</a>, or <a href="https://pubs.cray.com/">Cray</a> Fortran compiler.</li>
<li>A recent version of <a href="https://www.mpich.org/">MPICH</a> or <a href="https://www.open-mpi.org/">Open-MPI</a>.</li>
<li><a href="http://www.fftw.org/">FFTW</a></li>
</ul>
<h3 id="project-setup">Project setup<a class="headerlink" href="#project-setup" title="Permanent link">&para;</a></h3>
<p>To set up a project template for uDALES with a generic folder structure that you can later use to set up your own experiments, you will need:</p>
<ul>
<li><a href="https://git-scm.com/">Git</a> &gt;= 2.</li>
<li>A <a href="https://github.com">GitHub</a> account. (optional)</li>
<li><a href="https://www.python.org/">Python</a> &gt;= 3.6.</li>
</ul>
<h3 id="pre-processing">Pre-processing<a class="headerlink" href="#pre-processing" title="Permanent link">&para;</a></h3>
<p>When you create your own experiments, the input data needs to be processed before the simulation can be performed. For this reason, uDALES has a suite of pre-processing routines written in several languages including MATLAB. For information on how perform the pre-processing, see <a href="../udales-pre-processing/">pre-processing</a>.</p>
<ul>
<li><a href="https://www.mathworks.com/products/matlab.html">MATLAB</a> &gt;= R2017b</li>
</ul>
<h3 id="post-processing">Post-processing<a class="headerlink" href="#post-processing" title="Permanent link">&para;</a></h3>
<p>The uDALES output data are stored in netCDF files. However, as the code is parallel, these need to be merged before they can be conveniently visualised an processed using Python, MATLAB or other languages. The merging is performed with the NCO package:</p>
<ul>
<li><a href="https://github.com/nco/nco">netCDF Operators</a> (NCO).</li>
</ul>
<p>On local systems, these software and libraries (except MATLAB) should be available from your system's package manager (e.g. APT, yum, Homebrew, etc.) and examples on how to install all the required libraries for Linux/WSL and macOS are given below.</p>
<p>On high performance computing (HPC) clusters, these software and libraries should have already been installed. Please refer to the specific documentation to load the above software and libraries. Alternatively, you can install all the required packages easily after installing <a href="https://docs.brew.sh/Homebrew-on-Linux">Linuxbrew</a> and using the instructions for <a href="#macos">macOS</a>.</p>
<h2 id="linuxwsl-ubuntu">Linux/WSL (Ubuntu)<a class="headerlink" href="#linuxwsl-ubuntu" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>upgrade<span class="w"> </span>-y
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>git<span class="w"> </span>cmake<span class="w"> </span>gfortran<span class="w"> </span>libomp-dev<span class="w"> </span>libopenmpi-dev<span class="w"> </span>openmpi-bin<span class="w"> </span>libnetcdf-dev<span class="w"> </span>libnetcdff-dev<span class="w"> </span>nco<span class="w"> </span>python3<span class="w"> </span>python3-pip<span class="w"> </span>libfftw3-dev
</code></pre></div>
<h2 id="macos">macOS<a class="headerlink" href="#macos" title="Permanent link">&para;</a></h2>
<p>On macOS, use <a href="https://docs.brew.sh">Homebrew</a> to install the required libraries. If you do not have Homebrew installed on your system, install it from the <a href="https://docs.brew.sh/Installation">Homebrew installation page</a> then, to install all the required dependencies, including support for MPI, run the following commands from your terminal prompt:</p>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>update
brew<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>cmake<span class="w"> </span>gcc<span class="w"> </span>netcdf<span class="w"> </span>netcdf-fortran<span class="w"> </span>mpich<span class="w"> </span>nco<span class="w"> </span>python3<span class="w"> </span>fftw
</code></pre></div>
<h2 id="repository-set-up">Repository set-up<a class="headerlink" href="#repository-set-up" title="Permanent link">&para;</a></h2>
<p>Create a top-level directory, for example called "uDALES":</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>uDALES
</code></pre></div>
<p>Clone the u-dales repository into the top-level directory:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>uDALES
git<span class="w"> </span>clone<span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/uDALES/u-dales.git
</code></pre></div>
<p>Create directories for experiment set-ups and output data:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>experiments<span class="w"> </span>outputs
</code></pre></div>
<p>such that your directory tree resembles the following:</p>
<div class="highlight"><pre><span></span><code>.
myproject
│
├──<span class="w"> </span>experiments<span class="w"> </span><span class="c1"># Configuration files grouped by experiment number.</span>
│<span class="w">   </span>└──<span class="w"> </span>&lt;N&gt;<span class="w">     </span><span class="c1"># Any configurations files needed by uDALES to run experiment &lt;N&gt; a three digit integer number.</span>
│<span class="w">   </span>└──<span class="w"> </span>...
│
├──<span class="w"> </span>outputs<span class="w">     </span><span class="c1"># Additional or specialized tools other then the ones included with uDALES.</span>
│<span class="w">   </span>└──<span class="w"> </span>&lt;N&gt;<span class="w">     </span><span class="c1"># Output from experiment &lt;N&gt;.</span>
│<span class="w">   </span>└──<span class="w"> </span>...
│
└──<span class="w"> </span>u-dales<span class="w">     </span><span class="c1"># uDALES model development repository (submodule).</span>
│<span class="w">   </span>└──<span class="w"> </span>2decomp-fft
│<span class="w">   </span>└──<span class="w"> </span>...
│<span class="w">   </span>└──<span class="w"> </span>src
│<span class="w">   </span>└──<span class="w"> </span>...
│<span class="w">   </span>└──<span class="w"> </span>tools
│<span class="w">   </span>└──<span class="w"> </span>...
</code></pre></div>
<p>In the next steps we will assume your current working directory is the top-level project directory.</p>
<h2 id="build-on-common-systems">Build on common systems<a class="headerlink" href="#build-on-common-systems" title="Permanent link">&para;</a></h2>
<p>To compile uDALES (in release mode) on common/local uvuntu or mac systems using helper script, run:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We assume you are running the following commands from the u-dales directory</span>
tools/build_executable.sh<span class="w"> </span>common<span class="w"> </span>release
</code></pre></div>
<p>OR,
you can do it manually. On standard systems and configurations, you can build uDALES with the following commands:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We assume you are running the following commands from your</span>
<span class="c1"># top-level project directory.</span>

mkdir<span class="w"> </span>-p<span class="w"> </span>u-dales/build/release<span class="w"> </span><span class="c1"># in case you want to later create a build/debug</span>
<span class="nb">pushd</span><span class="w"> </span>u-dales/build/release
cmake<span class="w"> </span>-LA<span class="w"> </span>../..
make
<span class="nb">popd</span>
</code></pre></div>
<p>You can compile in parallel mode by passing Make the <code>j</code> flag followed by the number of CPU cores to use. For example, to compile with 2 cores do <code>make -j2</code>.</p>
<h2 id="build-on-hpcs">Build on HPCs<a class="headerlink" href="#build-on-hpcs" title="Permanent link">&para;</a></h2>
<p>To compile uDALES (in release mode) on the ICL HPC cluster run:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We assume you are running the following commands from the u-dales directory</span>
tools/build_executable.sh<span class="w"> </span>icl<span class="w"> </span>release
</code></pre></div>
<p>To compile uDALES (in release mode) on ARCHER2, use:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We assume you are running the following commands from the u-dales directory</span>
tools/build_executable.sh<span class="w"> </span>archer<span class="w"> </span>release
</code></pre></div>
<p>Information for developers: if you are a High Performance Cluster (HPC) user you are likely using the <a href="http://modules.sourceforge.net/">Environment Modules package</a> for the dynamic modification of the user's environment via modulefiles and therefore you may need to hint CMake the PATH to netCDF (see below how).</p>
<p>Here we show how to compile uDALES using the <a href="https://www.imperial.ac.uk/admin-services/ict/self-service/research-support/rcs/">HPC at ICL</a> as an example, therefore please note that the specific names/versions installed on your system may be different.</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>list<span class="w"> </span><span class="c1"># list currently enabled modules -- should be empty!</span>
module<span class="w"> </span>avail<span class="w"> </span><span class="c1"># list available modules</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># This is an example, please check with the previous command for the exact name of the</span>
<span class="c1"># modules available on your system. This will load netCDF compiled with Intel Suite</span>
<span class="c1"># 2020.2 and add the correct version of icc and ifort to the PATH.</span>
module<span class="w"> </span>load<span class="w"> </span>intel-suite/2020.2<span class="w"> </span>mpi/intel-2019.8.254<span class="w"> </span>cmake/3.18.2<span class="w"> </span>git/2.14.3
</code></pre></div>
<p>Then, to build the uDALES executable, run the following commands:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We assume you are running the following commands from your</span>
<span class="c1"># top-level project directory.</span>

mkdir<span class="w"> </span>-p<span class="w"> </span>u-dales/build/release
<span class="nb">pushd</span><span class="w"> </span>u-dales/build/release
<span class="nv">FC</span><span class="o">=</span>mpiifort<span class="w"> </span>cmake<span class="w"> </span>-DNETCDF_DIR<span class="o">=</span>/apps/netcdf/4.4.1-c<span class="w"> </span>-DNETCDF_FORTRAN_DIR<span class="o">=</span>/apps/netcdf/4.4.4-fortran<span class="w"> </span>-LA<span class="w"> </span>../..
make
<span class="nb">popd</span>
</code></pre></div>
<p>where <code>NETCDF_DIR</code> and <code>NETCDF_FORTRAN_DIR</code> indicates the absolute path to your netCDF-C and netCDF-Fortran installation directories. Here, we use the utilities <code>nc-config</code> and <code>nf-config</code> to hint CMake the location of netCDF, but you can simply pass the absolute path to the netCDF-C and netCDF-Fortran manually instead. You can compile in parallel mode by passing Make the <code>j</code> flag followed by the number of CPU cores to use. For example, to compile with 2 cores do <code>make -j2</code>.</p>
<h2 id="build-defaultsoptions">Build defaults/options<a class="headerlink" href="#build-defaultsoptions" title="Permanent link">&para;</a></h2>
<p>By default uDALES will compile in <code>Release</code> mode. You can change this by specifying the option (or flag) at configure time. The general syntax for specifying an option in CMake is <code>-D&lt;flag_name&gt;=&lt;flag_value&gt;</code> where <code>&lt;flag_name&gt;</code> is the option/flag name and <code>&lt;flag_value&gt;</code> is the option/flag value. The following options can be specified when configuring uDALES:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Options</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CMAKE_BUILD_TYPE</code></td>
<td><code>Release</code>, <code>Debug</code></td>
<td><code>Release</code></td>
<td>Whether to optimise/build with debug flags</td>
</tr>
<tr>
<td><code>NETCDF4_DIR</code></td>
<td><code>&lt;path&gt;</code></td>
<td>-</td>
<td>Path to netCDF-C installation directory</td>
</tr>
<tr>
<td><code>NETCDF_FORTRAN_DIR</code></td>
<td><code>&lt;path&gt;</code></td>
<td>-</td>
<td>Path to netCDF-Fortran installation directory</td>
</tr>
<tr>
<td><code>SKIP_UPDATE_EXTERNAL_PROJECTS</code></td>
<td><code>ON</code>, <code>OFF</code></td>
<td><code>OFF</code></td>
<td>Whether to skip updating external projects</td>
</tr>
</tbody>
</table>
<h2 id="singularity">Singularity<a class="headerlink" href="#singularity" title="Permanent link">&para;</a></h2>
<p>If you are looking for information on how to install or use Singularity on your system, please refer to the <a href="https://sylabs.io/docs">Singularity documentation</a>. The use of Singularity is undoubtedly the easiest way to build and run cases in uDALES as all dependencies are provided and uDALES will compile out of the box. Furthermore, users wishing to achieve a reasonable level of scientific reproducibility may archive software, tools, and data with their Singularity image containing OS and external libraries to an open access repository (e.g. <a href="https://doi.org/10.1029/2019MS001961">Meyer et al., 2020</a>).</p>
<p>First clone the uDALES repository with:</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/uDALES/u-dales.git
</code></pre></div>
<p>Then, to build and download the Singularity image use:</p>
<div class="highlight"><pre><span></span><code>singularity<span class="w"> </span>build<span class="w"> </span>--remote<span class="w"> </span>tools/singularity/image.sif<span class="w"> </span>tools/singularity/image.def
</code></pre></div>
<p>then, to install uDALES use:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># udales_build.sh &lt;NPROC&gt; [Debug, Release]</span>
./tools/singularity/udales_build.sh<span class="w"> </span><span class="m">2</span><span class="w"> </span>Release
</code></pre></div>
<p>Finally, to run an example case use:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># udales_run.sh &lt;NPROC&gt; &lt;BUILD_TYPE&gt; &lt;PATH_TO_CASE&gt; &lt;NAMELIST&gt;</span>
./tools/singularity/udales_run.sh<span class="w"> </span><span class="m">2</span><span class="w"> </span>Release<span class="w"> </span>examples/001<span class="w"> </span>namoptions.001
</code></pre></div>
<p>If you are looking to run the build and run commands on HPC, we have provided a sample script under <code>tools/singularity/udales_pbs_submit.sh</code>, you can modify and run it with <code>qsub tools/singularity/udales_pbs_submit.sh</code>.</p>
<h2 id="whats-next">What's next?<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<p>This simple guide is meant to allow you to get started based on an existing example. We set up several <a href="../udales-example-simulations/">example simulations</a> to get you started. To learn more about pre- and post-processing steps in uDALES, please see the <a href="../udales-pre-processing/">pre-processing</a> and <a href="../udales-post-processing/">post-processing</a> pages.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      The uDALES Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>